/* * * * * * * * * *
 *   disTime .js   *
 *  Version 0.7.6  *
 *  License:  MIT  *
 * Simon  Waldherr *
 * * * * * * * * * */

function trim11(a){"use strict";var b;for(a=a.replace(/^\s+/,""),b=a.length-1;b>=0;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a}function checkForAnd(a,b,c){"use strict";return a&&trim11(b)!==c.words.preAgo&&trim11(b)!==c.words.inFuture?" "+c.words.and+" ":""}var disTimeRepeater,disTimeObject,disTime;disTimeObject={parseTimestamp:function(a,b,c,d){"use strict";function e(a){return parseInt(a,10)}var f,g,h,i,j,k,l,m,n;return void 0===d&&(d=!1),g=c>b?c-b:b-c,f=c>b?" "+a.words.preAgo+" ":" "+a.words.inFuture+" ",g>31536e3&&(h=e(e(g)/e(31536e3)),f+=h+" "+languages.declOfNum(a.mode,h,a.year)),(31536e3>g&&g>2419200||g>31536e3&&d&&0!==e(g%31536e3/2419200))&&(f+=checkForAnd(d,f,a),i=e(g%31536e3/2419200),f+=i+" "+languages.declOfNum(a.mode,i,a.month),31536e3>g&&d&&0!==e(g%2419200/86400)&&(f+=checkForAnd(d,f,a),k=e(g%2419200/86400),f+=k+" "+languages.declOfNum(a.mode,k,a.day))),(2419200>g&&g>604800||10368e3>g&&g>2419199&&d&&0!==e(g%2592e3/2419200))&&(f+=checkForAnd(d,f,a),j=e(g%2419200/604800),f+=j+" "+languages.declOfNum(a.mode,j,a.week)),(604800>g&&g>86399||2419200>g&&g>604799&&d&&0!==e(g%604800/86400))&&(f+=checkForAnd(d,f,a),k=e(g%2419200/86400),f+=k+" "+languages.declOfNum(a.mode,k,a.day)),(86400>g&&g>3599||604800>g&&g>86399&&d&&0!==e(g%86400/3600))&&(f+=checkForAnd(d,f,a),l=e(g%86400/3600),f+=l+" "+languages.declOfNum(a.mode,l,a.hour)),(3600>g&&g>59||86400>g&&g>3599&&d&&0!==e(g%3600/60))&&(f+=checkForAnd(d,f,a),m=e(g%3600/60),f+=m+" "+languages.declOfNum(a.mode,m,a.minute)),(60>g||3600>g&&g>59&&d&&0!==g%60)&&(f+=checkForAnd(d,f,a),n=g%60,f+=n+" "+languages.declOfNum(a.mode,n,a.second)),c>b&&(f+=" "+a.words.postAgo),f}},disTime=function(a,b,c){"use strict";var d,e,f,g,h,i,j;for(void 0===c&&(c=!1),void 0===b&&(b=navigator.language||navigator.userLanguage),void 0===languages[b]&&(b=void 0!==languages[b.split("-")[0]]?b.split("-")[0]:"en"),i=parseInt(Date.now()/1e3,10)+a,d=document.getElementsByClassName("distime"),e=d.length,f=i,g=0;e>g;g+=1)j=parseInt(d[g].getAttribute("data-time"),10),d[g].innerHTML=disTimeObject.parseTimestamp(languages[b],j,i,c),h=i>j?i-j:j-i,d[g].hasAttribute("alt")||d[g].setAttribute("title",new Date(1e3*j).toString()),f>h&&(f=h);window.clearTimeout(disTimeRepeater),disTimeRepeater=61>f||c&&3601>f?setTimeout(disTime,1e3,a,b,c):3601>f||c&&86400>f?setTimeout(disTime,6e4,a,b,c):86400>f||c?setTimeout(disTime,3600001,a,b,c):setTimeout(disTime,86400001,a,b,c)};var languages={declOfNum:function(a,b,c){"use strict";var d;return 2!==a?1===b?c[0]:c[1]:(d=[2,0,1,1,1,2],c[b%100>4&&20>b%100?2:d[5>b%10?b%10:5]])},"int":{words:{preAgo:"",postAgo:"ago",and:" ",inFuture:"in"},mode:1,year:["Y","Y"],month:["M","M"],week:["W","W"],day:["D","D"],hour:["h","h"],minute:["min","min"],second:["sec","sec"]},en:{words:{preAgo:"",postAgo:"ago",and:"and",inFuture:"in"},mode:1,year:["year","years"],month:["month","months"],week:["week","weeks"],day:["day","days"],hour:["hour","hours"],minute:["minute","minutes"],second:["second","seconds"]},de:{words:{preAgo:"vor",postAgo:"",and:"und",inFuture:"in"},mode:1,year:["Jahr","Jahren"],month:["Monat","Monaten"],week:["Woche","Wochen"],day:["Tag","Tagen"],hour:["Stunde","Stunden"],minute:["Minute","Minuten"],second:["Sekunde","Sekunden"]},nl:{words:{preAgo:"",postAgo:"geleden",and:"en",inFuture:"in"},mode:1,year:["jaar","jaar"],month:["maand","maanden"],week:["week","weken"],day:["dag","dagen"],hour:["uur","uren"],minute:["minuut","minuten"],second:["seconde","seconden"]},it:{words:{preAgo:"",postAgo:"fa",and:"e",inFuture:"in"},mode:1,year:["anno","anni"],month:["mese","mesi"],week:["settimana","settimane"],day:["giorno","giorni"],hour:["ora","ore"],minute:["minuto","minuti"],second:["secondo","secondi"]},es:{words:{preAgo:"",postAgo:"antes",and:"y",inFuture:"en"},mode:1,year:["a&#241;o","a&#241;os"],month:["mes","meses"],week:["semana","semanas"],day:["d&#237;a ","d&#237;as"],hour:["hora","horas"],minute:["minuto","minutos"],second:["segundo","segundos"]},fr:{words:{preAgo:"il ya",postAgo:"",and:"et",inFuture:"en "},mode:1,year:["an","ans"],month:["mois","mois"],week:["semaine","semaines"],day:["jour","jours"],hour:["heure","heures"],minute:["minute","minutes"],second:["seconde","secondes"]},pt:{words:{preAgo:"",postAgo:"atr&#225;s",and:"e",inFuture:"em"},mode:1,year:["ano","anos"],month:["m&#234;s","meses"],week:["semana","semanas"],day:["dia","dias"],hour:["hora","horas"],minute:["minuto","minutos"],second:["segundo","segundos"]},ru:{words:{preAgo:"",postAgo:"назад",and:"и",inFuture:"через"},mode:2,year:["год","года","лет"],month:["месяц","месяца","месяцев"],week:["неделя","неждели","недель"],day:["день","дня","дней"],hour:["час","часа","часов"],minute:["минута","минуты","минут"],second:["секунду","секунды","секунд"]}};